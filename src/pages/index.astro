---
import '@/styles/app.css'

import {Image} from 'astro:assets'
import PageLayout from '../layouts/BaseLayout.astro'
import Section from '../components/Section.astro'
import Card from '../components/Card.astro'
import ProjectCard from '../components/ProjectCard.astro'
import Label from '../components/Label.astro'
import SkillLayout from '../components/SkillLayout.astro'
import Button from '../components/Button.astro'

import about from '../assets/EugenioBalestra.jpg'

const skills = [
  'Gestión de proyectos',
  'Investigación',
  'Sostenibilidad',
  'Trabajo en equipo',
  'Comunicació',
  'Resolución de problemas',
  'Adaptabilidad',
  'Pensamiento crítico',
  'Gestión del tiempo',
  'Toma de decisiones',
  'AutoCAD',
  'Office',
];

const projects = [
{
    heading: 'Tlakatili',
    subheading: 'Diseño de un equipamiento comunitario',
    date: 'Julio 2023',
    skills: [
    ],
    functions: [
      'Proyecto colaborativo con participación en la elaboración de un ' +
        'proyecto gubernamental de “Utopias” en la alcaldía de Iztapalapa.',      
      'Diseño de planos arquitectónicos, estructurales, de instalaciones,'
    ]
  },
  {
    heading: 'Monclova 22',
    subheading: 'Diseño de vivienda colectiva en la Roma Sur',
    date: 'Agosto 2023 - Noviembre 2023',
    skills: [
    ],
    functions: [
    'Proyecto colaborativo con participación en la elaboración de un ' +
    'proyecto de vivienda a un nivel arquitectónico ejecutivo.',
    'Diseño de planos arquitectónicos, estructurales, de instalaciones, ' +
    'acabados y albañilería.',
    ]
  },
  {
    heading: 'Centro Guayacán',
    subheading: 'Diseño de un equipamiento comunitario',
    date: 'Febrero 2023 - Mayo 2023',
    skills: [
    ],
    functions: [
      'Proyecto colaborativo con participación en la planificación, diseño y maquetado ' +
        'de un equipamiento comunitario con el Estado de Morelos y el Tecnológico de Monterrey.',
      'Creación de planos arquitectónicos, diseño estructural y de instalaciones',
    ]
  },
  {
    heading: 'Casa Carrizo',
    subheading: 'Diseño de un hábitat efímero',
    date: 'Febrero 2023 - Mayo 2023',
    honors: 'Mención Honorífica',
    skills: [],
    functions: [
      'Proyecto colaborativo con participación en la planificación, ' +
        'diseño y maquetado de un hábitat efímero en colaboración con ' +
        'Omaih y el Tecnológico de Monterrey.',
    ]
  },
];

function experienceTime(startDate: any, endDate: any) {
  const start = new Date(startDate);
  const end = endDate ? new Date(endDate) : new Date();

  let years = end.getFullYear() - start.getFullYear();
  let months = end.getMonth() - start.getMonth() + 1;

  if (end.getDate() < start.getDate()) {
    months -= 1;
  }

  // Normalize negative months
  if (months < 0) {
    years -= 1;
    months += 12;
  }

  if (years > 0 && months === 0) {
    return `${years} año${years > 1 ? "s" : ""}`;
  } else if (years > 0) {
    return `${years} año${years > 1 ? "s" : ""}, ${months} mes${months > 1 ? "es" : ""}`;
  } else if (months > 0){
    return `${months} mes${months > 1 ? "es" : ""}`;
  }
  
  return "";
}

---

<PageLayout meta={{ title: 'Home' }}>
	<div class='flex w-full flex-col gap-y-10'>
		<section class='flex flex-col items-center gap-y-7'>
			<Image
				src={about}
				alt='profile photo'
				class='h-64 w-64 rounded-full p-2 object-cover'
				loading='eager'
			/>

			<div class='flex flex-col items-center gap-y-4'>
				<h1 class='text-3xl font-bold'>Eugenio Balestra</h1>
				
				<div class='flex flex-wrap justify-center gap-x-7 gap-y-3'>
					<Label title='ARQ'>
						<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' class='h-5 w-5' slot='icon'
							><path
								fill='currentColor'
								d='M4.615 20q-.69 0-1.152-.462Q3 19.075 3 18.385v-9.77q0-.69.463-1.152Q3.925 7 4.615 7H9V5.615q0-.69.463-1.152Q9.925 4 10.615 4h2.77q.69 0 1.153.463q.462.462.462 1.152V7h4.385q.69 0 1.152.463q.463.462.463 1.152v9.77q0 .69-.462 1.152q-.463.463-1.153.463zm0-1h14.77q.23 0 .423-.192q.192-.193.192-.423v-9.77q0-.23-.192-.423Q19.615 8 19.385 8H4.615q-.23 0-.423.192Q4 8.385 4 8.615v9.77q0 .23.192.423q.193.192.423.192M10 7h4V5.615q0-.23-.192-.423Q13.615 5 13.385 5h-2.77q-.23 0-.423.192q-.192.193-.192.423zM4 19V8z'
							></path></svg
						>
					</Label>
					<Label title='Ciudad de México'>
						<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' class='h-5 w-5' slot='icon'
							><path
								fill='currentColor'
								d='M12.003 11.73q.668 0 1.14-.475q.472-.475.472-1.143t-.475-1.14q-.476-.472-1.143-.472t-1.14.476q-.472.475-.472 1.143t.475 1.14q.476.472 1.143.472M12 19.677q2.82-2.454 4.458-4.991q1.638-2.538 1.638-4.39q0-2.744-1.737-4.53T12 3.981q-2.621 0-4.359 1.785t-1.737 4.53q0 1.852 1.638 4.39q1.639 2.537 4.458 4.99m0 1.343q-3.525-3.117-5.31-5.814q-1.786-2.697-1.786-4.909q0-3.173 2.066-5.234Q9.037 3 12 3t5.03 2.062q2.066 2.061 2.066 5.234q0 2.212-1.785 4.909q-1.786 2.697-5.311 5.814m0-10.904'
							></path></svg
						>
					</Label>
					<Label
						title='eugenio-balestra-brook'
						as='a'
						href='https://www.linkedin.com/in/eugenio-balestra-brook-b637b9281'>
						<svg
							xmlns='http://www.w3.org/2000/svg'
							viewBox='0 0 16 16'
							slot='icon'
							class='h-5 w-5 text-foreground/75'
							><path
								fill='currentColor'
								d='M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248c-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586c.173-.431.568-.878 1.232-.878c.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252c-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z'
							></path></svg
						>
					</Label>
				</div>
			</div>
		</section>

		<Section title='Acerca de mí'>
			<p>
      Soy arquitecto con una fuerte motivación por desarrollar proyectos que trasciendan más allá de lo estético, buscando soluciones innovadoras que aporten un impacto positivo tanto en la vida de las personas como en el entorno.
			</p>
      <hr class='border-muted-foreground'>
      <p>
      Me interesa especialmente el trabajo en obra, donde puedo transformar ideas en realidades tangibles y asegurar que cada detalle se ejecute con calidad y propósito.
      </p>
      <hr class='border-muted-foreground'>

		</Section>

		<Section title='Experiencia'>
			<Card
				heading='Graus'
          subheading={experienceTime("2024-08-01", null)}
				date='Agosto 2024 - Actualidad'
      >
        <Card
          heading='Residente de Obra'
            subheading={experienceTime("2025-07-01", null)}
          date='Julio 2025 - Actualidad'
        />

        <Card
          heading='Pasante'
            subheading={experienceTime("2024-08-01", "2025-07-01")}
          date='Agosto 2024 - Julio 2025'
        />
      </Card>	
		</Section>
    
    <Section title='Educación'>
			<Card
				heading='Licenciatura en Arquitectura'
				subheading='Tecnológico de Monterrey'
				date='Agosto 2021 - Junio 2025'
			>
        <h3 class='text-md font-bold text-muted-foreground'>Habilidades Relevantes</h3>
				<ul class='ml-4 list-disc text-muted-foreground'>
          <li>
            Gestión de Proyectos
          </li>
          <li>
            Investigación
          </li>
          <li>
            AutoCAD
          </li>
          <li>
            Sostenibilidad
          </li>
				</ul>
			</Card>
			<Card
				heading='Estudios Medios Superiores'
				subheading='Tecnológico de Monterrey'
				date='Agosto 2018 - Junio 2021'
			/>
		</Section>

		<Section title='Proyectos'>
      {
        projects.map(({
          heading,
          subheading,
          date,
          honors,
          skills,
          functions
        }) => (
          <Card
            heading={heading}
            subheading={subheading}
            date={date}
          >
            {
              honors && (
                <div class="flex flex-row gap-x-2">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentcolor"><path d="m387-412 35-114-92-74h114l36-112 36 112h114l-93 74 35 114-92-71-93 71ZM240-40v-309q-38-42-59-96t-21-115q0-134 93-227t227-93q134 0 227 93t93 227q0 61-21 115t-59 96v309l-240-80-240 80Zm240-280q100 0 170-70t70-170q0-100-70-170t-170-70q-100 0-170 70t-70 170q0 100 70 170t170 70ZM320-159l160-41 160 41v-124q-35 20-75.5 31.5T480-240q-44 0-84.5-11.5T320-283v124Zm160-62Z"/></svg>
                  <h3 class='text-md font-bold text-muted-foreground'>{honors}</h3>
                </div>
              )
            }
            <div class="flex w-4/5 flex-row flex-wrap gap-x-4 gap-y-2">
            {
              skills.map((skill: string) => (
                <Button as='span' title={skill} style='pill'/>
              ))
            }
            </div>

            <ul class='ml-4 list-disc text-muted-foreground'>
              {
                functions.map((func) => <li>{func}</li>)
              }
            </ul>
          </Card>
        ))
      }
			
		</Section>
    <Section title='Habilidades'>
      <div class='flex flex-col gap-y-2 md:flex-row md:gap-x-5 md:gap-y-0'>
        <div class='flex w-4/5 flex-row flex-wrap gap-x-4 gap-y-2'>
          {skills.map((skill: string) => <Button as='button' title={skill} style='pill' />)}
        </div>
      </div>
		</Section>

    <Section title='Idiomas'>
      <div class="">
        <h3 class="text-lg font-bold">Español</h3>
        <p class="text-slate-600 dark:text-slate-300 text-sm">
          Competencia Nativa
        </p>
      </div>
      <div class="">
        <h3 class="text-lg font-bold">Inglés</h3>
        <p class="text-slate-600 dark:text-slate-300 text-sm">
          Competencia Profesional
        </p>
      </div>
      <div class="">
        <h3 class="text-lg font-bold">Francés</h3>
        <p class="text-slate-600 dark:text-slate-300 text-sm">
          Competencia Básica
        </p>
      </div>
		</Section>
</PageLayout>

<style>
  .pdf-container {
    aspect-ratio: 3/4;
  }
</style>
